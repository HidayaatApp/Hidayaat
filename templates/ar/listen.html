<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>ุชูุงูุฉ ุงูุณูุฑุฉ - ุขูุฉ ุจุขูุฉ</title>
  <style>
  body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: linear-gradient(to bottom, #1c1c2d, #2c3e50);
    color: #fff;
    text-align: center;
    padding: 40px;
    margin: 0;
  }

  h1 {
    font-size: 32px;
    color: #ff4c4c;
    margin-bottom: 30px;
  }

  select, button {
    padding: 12px;
    font-size: 18px;
    margin: 10px;
    border-radius: 8px;
    border: none;
  }

  select {
    background-color: #eeeeee;
    color: #000;
  }

  button {
    background-color: #388e3c;
    color: white;
    cursor: pointer;
  }

  button:hover {
    background-color: #2e7d32;
  }

  #ayah-text {
    font-size: 30px;
    color: #ffffff;
    margin-top: 35px;
    padding: 25px;
    background-color: #111827;
    border-radius: 12px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4);
    line-height: 2.2;
    max-width: 800px;
    margin-left: auto;
    margin-right: auto;
    transition: opacity 0.5s ease;
  }

  #info {
    margin-top: 25px;
    font-size: 22px;
    color: #cccccc;
    transition: opacity 0.5s ease;
  }

  .progress-container {
    width: 80%;
    height: 20px;
    background-color: #444;
    border-radius: 10px;
    margin: 40px auto 20px;
    overflow: hidden;
  }

  .progress-bar {
    height: 100%;
    width: 0%;
    background-color: #4caf50;
    transition: width 0.5s ease;
  }

  audio {
  display: block;
  margin: 30px auto 0 auto;
  width: 80%;
  max-width: 700px;
}


  footer {
    margin-top: 60px;
    font-size: 14px;
    color: #aaa;
  }
</style>


</head>
<body>

  <h1>๐ ุชูุงูุฉ ุงูุณูุฑุฉ - ุขูุฉ ุจุขูุฉ</h1>

  <div>
    <label for="reciter-picker">ุงุฎุชุฑ ุงููุงุฑุฆ:</label>
    <select id="reciter-picker">
      <option value="Alafasy">ุงูุนูุงุณู</option>
      <option value="Dossary">ุงูุฏูุณุฑู</option>
      <option value="Husary">ุงูุญุตุฑู</option>
    </select>

    <label for="surah-picker">ุงุฎุชุฑ ุงูุณูุฑุฉ:</label>
    <select id="surah-picker" onchange="populateAyahPicker()">
      <option value="1">ุงููุงุชุญุฉ</option>
      <option value="2">ุงูุจูุฑุฉ</option>
      <option value="3">ุขู ุนูุฑุงู</option>
      <option value="4">ุงููุณุงุก</option>
      <option value="5">ุงููุงุฆุฏุฉ</option>
      <option value="6">ุงูุฃูุนุงู</option>
      <option value="7">ุงูุฃุนุฑุงู</option>
      <option value="8">ุงูุฃููุงู</option>
      <option value="9">ุงูุชูุจุฉ</option>
      <option value="10">ูููุณ</option>
      <option value="11">ููุฏ</option>
      <option value="12">ููุณู</option>
      <option value="13">ุงูุฑุนุฏ</option>
      <option value="14">ุฅุจุฑุงููู</option>
      <option value="15">ุงูุญุฌุฑ</option>
      <option value="16">ุงููุญู</option>
      <option value="17">ุงูุฅุณุฑุงุก</option>
      <option value="18">ุงูููู</option>
      <option value="19">ูุฑูู</option>
      <option value="20">ุทู</option>
      <option value="21">ุงูุฃูุจูุงุก</option>
      <option value="22">ุงูุญุฌ</option>
      <option value="23">ุงููุคูููู</option>
      <option value="24">ุงูููุฑ</option>
      <option value="25">ุงููุฑูุงู</option>
      <option value="26">ุงูุดุนุฑุงุก</option>
      <option value="27">ุงูููู</option>
      <option value="28">ุงููุตุต</option>
      <option value="29">ุงูุนููุจูุช</option>
      <option value="30">ุงูุฑูู</option>
      <option value="31">ูููุงู</option>
      <option value="32">ุงูุณุฌุฏุฉ</option>
      <option value="33">ุงูุฃุญุฒุงุจ</option>
      <option value="34">ุณุจุฅ</option>
      <option value="35">ูุงุทุฑ</option>
      <option value="36">ูุณ</option>
      <option value="37">ุงูุตุงูุงุช</option>
      <option value="38">ุต</option>
      <option value="39">ุงูุฒูุฑ</option>
      <option value="40">ุบุงูุฑ</option>
      <option value="41">ูุตูุช</option>
      <option value="42">ุงูุดูุฑู</option>
      <option value="43">ุงูุฒุฎุฑู</option>
      <option value="44">ุงูุฏุฎุงู</option>
      <option value="45">ุงูุฌุงุซูุฉ</option>
      <option value="46">ุงูุฃุญูุงู</option>
      <option value="47">ูุญูุฏ</option>
      <option value="48">ุงููุชุญ</option>
      <option value="49">ุงูุญุฌุฑุงุช</option>
      <option value="50">ู</option>
      <option value="51">ุงูุฐุงุฑูุงุช</option>
      <option value="52">ุงูุทูุฑ</option>
      <option value="53">ุงููุฌู</option>
      <option value="54">ุงูููุฑ</option>
      <option value="55">ุงูุฑุญูู</option>
      <option value="56">ุงููุงูุนุฉ</option>
      <option value="57">ุงูุญุฏูุฏ</option>
      <option value="58">ุงููุฌุงุฏูุฉ</option>
      <option value="59">ุงูุญุดุฑ</option>
      <option value="60">ุงูููุชุญูุฉ</option>
      <option value="61">ุงูุตู</option>
      <option value="62">ุงูุฌูุนุฉ</option>
      <option value="63">ุงูููุงูููู</option>
      <option value="64">ุงูุชุบุงุจู</option>
      <option value="65">ุงูุทูุงู</option>
      <option value="66">ุงูุชุญุฑูู</option>
      <option value="67">ุงูููู</option>
      <option value="68">ุงูููู</option>
      <option value="69">ุงูุญุงูุฉ</option>
      <option value="70">ุงููุนุงุฑุฌ</option>
      <option value="71">ููุญ</option>
      <option value="72">ุงูุฌู</option>
      <option value="73">ุงููุฒูู</option>
      <option value="74">ุงููุฏุซุฑ</option>
      <option value="75">ุงูููุงูุฉ</option>
      <option value="76">ุงูุฅูุณุงู</option>
      <option value="77">ุงููุฑุณูุงุช</option>
      <option value="78">ุงููุจุฃ</option>
      <option value="79">ุงููุงุฒุนุงุช</option>
      <option value="80">ุนุจุณ</option>
      <option value="81">ุงูุชูููุฑ</option>
      <option value="82">ุงูุงููุทุงุฑ</option>
      <option value="83">ุงููุทูููู</option>
      <option value="84">ุงูุงูุดูุงู</option>
      <option value="85">ุงูุจุฑูุฌ</option>
      <option value="86">ุงูุทุงุฑู</option>
      <option value="87">ุงูุฃุนูู</option>
      <option value="88">ุงูุบุงุดูุฉ</option>
      <option value="89">ุงููุฌุฑ</option>
      <option value="90">ุงูุจูุฏ</option>
      <option value="91">ุงูุดูุณ</option>
      <option value="92">ุงูููู</option>
      <option value="93">ุงูุถุญู</option>
      <option value="94">ุงูุดุฑุญ</option>
      <option value="95">ุงูุชูู</option>
      <option value="96">ุงูุนูู</option>
      <option value="97">ุงููุฏุฑ</option>
      <option value="98">ุงูุจููุฉ</option>
      <option value="99">ุงูุฒูุฒูุฉ</option>
      <option value="100">ุงูุนุงุฏูุงุช</option>
      <option value="101">ุงููุงุฑุนุฉ</option>
      <option value="102">ุงูุชูุงุซุฑ</option>
      <option value="103">ุงูุนุตุฑ</option>
      <option value="104">ุงูููุฒุฉ</option>
      <option value="105">ุงูููู</option>
      <option value="106">ูุฑูุด</option>
      <option value="107">ุงููุงุนูู</option>
      <option value="108">ุงูููุซุฑ</option>
      <option value="109">ุงููุงูุฑูู</option>
      <option value="110">ุงููุตุฑ</option>
      <option value="111">ุงููุณุฏ</option>
      <option value="112">ุงูุฅุฎูุงุต</option>
      <option value="113">ุงูููู</option>
      <option value="114">ุงููุงุณ</option>
    </select>

    <label for="ayah-picker">ุงุฎุชุฑ ุงูุขูุฉ ููุจุฏุก:</label>
    <select id="ayah-picker">
      <option value="1">ูก</option>
    </select>
  </div>

  <button onclick="startRecitation()">โถ๏ธ ุงุจุฏุฃ ุงูุชูุงูุฉ</button>

  <div id="ayah-text">โ</div>
  <div id="info">โ</div>
  <audio id="audio" controls></audio>

  <div class="progress-container">
  <div id="progress-bar" class="progress-bar"></div>
</div>


  <footer></footer>

  <script>
    let currentAyah = 1;
    let totalAyahs = 0;
    let currentSurah = 1;
    let surahName = "";
    let selectedReciter = "Alafasy";

    function populateAyahPicker() {
      const surahId = document.getElementById("surah-picker").value;
      fetch(`https://api.alquran.cloud/v1/surah/${surahId}`).then(res => res.json()).then(data => {
        const ayahPicker = document.getElementById("ayah-picker");
        ayahPicker.innerHTML = "";
        for (let i = 1; i <= data.data.numberOfAyahs; i++) {
          ayahPicker.innerHTML += `<option value="${i}">${i}</option>`;
        }
      });
    }

    function startRecitation() {
      currentSurah = parseInt(document.getElementById("surah-picker").value);
      selectedReciter = document.getElementById("reciter-picker").value;
      currentAyah = parseInt(document.getElementById("ayah-picker").value);

      fetch(`https://api.alquran.cloud/v1/surah/${currentSurah}`)
        .then(res => res.json())
        .then(data => {
          totalAyahs = data.data.numberOfAyahs;
          surahName = data.data.name;
          document.getElementById("info").innerText = `${surahName} ${surahName} - ุงูุขูุฉ ${currentAyah}`;
          updateProgress();
          playAyah(currentSurah, currentAyah);
        });
    }
    function updateProgress(finished = false) {
  const progressBar = document.getElementById("progress-bar");
  const progress = finished ? 100 : Math.floor((currentAyah / totalAyahs) * 100);
  progressBar.style.width = progress + "%";
}



    function playAyah(surah, ayah) {
      const audio = document.getElementById("audio");
      const ayahText = document.getElementById("ayah-text");
      const info = document.getElementById("info");
      updateProgress();

      fetch(`https://api.alquran.cloud/v1/ayah/${surah}:${ayah}/ar`)
        .then(res => res.json())
        .then(data => {
          ayahText.style.opacity = 0;
          info.style.opacity = 0;

          setTimeout(() => {
            ayahText.innerText = data.data.text;
            info.innerText = `ุณูุฑุฉ ${surahName} - ุงูุขูุฉ ${ayah}`;
            ayahText.style.opacity = 1;
            info.style.opacity = 1;
          }, 200);

          const surahStr = String(surah).padStart(3, '0');
          const ayahStr = String(ayah).padStart(3, '0');

          if (selectedReciter === "Alafasy") {
            fetch(`https://api.alquran.cloud/v1/ayah/${surah}:${ayah}/ar.alafasy`)
              .then(res => res.json())
              .then(alafasyData => {
                audio.src = alafasyData.data.audio;
                audio.load();
                audio.style.display = "block";
                audio.play();
              });
          } else {
            const folder = selectedReciter === "Dossary"
              ? "Yasser_Ad-Dussary_128kbps"
              : "Husary_128kbps";

            const audioURL = `https://everyayah.com/data/${folder}/${surahStr}${ayahStr}.mp3`;
            audio.src = audioURL;
            audio.load();
            audio.style.display = "block";
            audio.play();
          }

          audio.onended = () => {
            if (ayah < totalAyahs) {
              currentAyah++;
              playAyah(surah, currentAyah);
            } else {
              updateProgress(true);
              info.innerText = `ุงูุชูุช ุชูุงูุฉ ุณูุฑุฉ ${surahName}`;
            }
          };
        });
    }

    window.onload = populateAyahPicker;
  </script>
</body>
</html>
